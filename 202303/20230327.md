# 20230327


## [51 | 弹力设计篇之“弹力设计总结”](https://time.geekbang.org/column/article/4253)

负载均衡 + 服务健康检查–可以使用像 Nginx 或 HAProxy 这样的技术；服务发现 + 动态路由 + 服务健康检查，比如 Consul 或 ZooKeeper；自动化运维，Kubernetes 服务调度、伸缩和故障迁移。

自包含系统：所谓自包含的系统是从单体到微服务的中间状态，其把一组密切相关的微服务给拆分出来，只需要做到没有外部依赖就行。

Spring Cloud 有一套丰富且集成良好的 Java 库，作为应用栈的一部分解决所有运行时问题。因此，微服务本身可以通过库和运行时代理解决客户端服务发现、负载均衡、配置更新、统计跟踪等。工作模式就像单实例服务集群。（译者注：集群中 master 节点工作：当 master 挂掉后，slave 节点被选举顶替。）并且一批工作也是在 JVM 中被管理。

Kubernetes 不是针对语言的，而是针对容器的，所以，它是以通用的方式为所有语言解决分布式计算问题。Kubernetes 提供了配置管理、服务发现、负载均衡、跟踪、统计、单实例、平台级和应用栈之外的调度工作。该应用不需要任何客户端逻辑的库或代理程序，可以用任何语言编写。

上面这张图中，对于所有的特性，都列举了一些相关的软件和一些设计的重点，其中红色的是运维层面的和 Spring Cloud 和 Kubernetes 不相关的，绿色的 Spring Cloud 提供的开发框架，蓝色的是 Kubernetes 相关的重要功能。
从今天看下来，微服务的最佳实践在未来有可能会成为 SpringCloud 和 Kubernetes 的天下了。这个让我们拭目以待。
### comment


#### slark

```
java生态确实好，但整体一套的cloud下来，性能不高。而其他语言又还没有java的这一大套完善的微服务框架。k8s在运维云开发上目前看是覆盖更广，价值更大的。即使没有用或者很难搭建一整套微服务组件，只要把服务结合k8s，在运维方面还是能有很大收获
```


#### escray

```
弹力设计的目的：冗余服务、服务解耦、服务容错。

* 冗余服务：负载均衡、服务健康检查、服务发现、动态路由、自动化运维、Kubernetes 服务调度、伸缩和故障迁移
* 服务解耦：业务分片、用户分片、数据库拆分、自包含、服务发现、事件驱动、消息队列、业务工作流、服务调用链、性能监控
* 服务容错：重试、熔断、幂等、限流、降级、网关流量调度、服务监控、两阶段提交、异步通信

专栏在 2018 年的时候说，SpringCloud 和 Kubernetes 会成为主流，现在看，应该是应验了。

https://dzone.com/articles/deploying-microservices-spring-cloud-vs-kubernetes

看完之后，觉得自己来晚了。其实当年就知道，只是心动，没有行动。 

那张总图很不错，如果能够对着图讲明白弹力设计，那么……
2023-03-20归属地：北京
```

[[20230328]]